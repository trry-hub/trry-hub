# 💻 系统安装后要做的那些事

## 一、常用软件安装（所有平台通用）

### 🌲 Node.js 环境管理（Volta）
1. 安装 [Volta](https://volta.sh/)  
```bash
curl https://get.volta.sh | bash
或
brew install volta
```

2. 配置 Volta 环境变量
```bash
# ~/.zshrc
# Volta 配置
export VOLTA_HOME="$HOME/.volta"
case ":$PATH:" in
  *":$VOLTA_HOME/bin:"*) ;;
  *) export PATH="$VOLTA_HOME/bin:$PATH" ;;
esac
```

3. 打印 Node、npm、pnpm 版本(根据 volta 能力自动安装对应版本的 node)
```bash
# ~/.zshrc
echo "\033[1m\033[32mNode\033[0m $(node -v 2>/dev/null || echo '未安装') · \033[34mnpm\033[0m $(npm -v 2>/dev/null || echo '未安装') · \033[35mpnpm\033[0m $(pnpm -v 2>/dev/null || echo '未安装')"
```

### 🔒 VPN 工具
- **macOS**：[anyconnect-macos](https://cdnfile.yaomaitong.cn/vpn/anyconnect-macos-4.9.04053.dmg)（仅勾选 VPN）  
- **Windows**：[anyconnect_win.zip](https://cdnfile.yaomaitong.cn/vpn/anyconnect_win.zip)  
- **iPhone**：App Store 搜索 **AnyConnect**  
- **Android**：[OpenConnect.apk](https://cdnfile.yaomaitong.cn/vpn/OpenConnect-1.15-1152.apk)  

:::warning 提示
使用 VPN 前先安装个人 `.p12` 文件，然后连接：`vpn.yaomaitong.cn:4433`
:::

### 🖱️ 辅助工具
- Windows 鼠标点击效果：[ClickShow](https://github.com/cuiliang/ClickShow/releases/tag/1.4.1)  
- macOS 鼠标指针：[macOS-cursor](https://zhutix.com/ico/macos-cursor-21/)  
- Windows 鼠标指针：[Windows 指针主题](https://zhutix.com/ico/macos-cursor-21/)  

## 二、分平台配置方案

### 🔹 Windows

#### 1. 开机自启动
路径：  
```text
C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp
```
👉 建议将 **uTools**、**Snipaste** 等开机自启动的软件快捷方式放入其中。  

#### 2. PowerShell 脚本执行权限
以管理员身份运行 PowerShell：  
```powershell
set-executionpolicy remotesigned
```

#### 3. 安装 WSL
1. 参考安装教程：https://bbs.huaweicloud.com/blogs/350759  
2. 重启后，在 Microsoft Store 中安装：  
  [Windows Subsystem for Linux](https://apps.microsoft.com/store/detail/windows-subsystem-for-linux/9P9TQF7MRM4R)  

#### 4. PowerShell 美化（Oh My Posh）
1. 安装 [Oh My Posh](https://ohmyposh.dev/)  
2. 写入 `$PROFILE`：  
```powershell
oh-my-posh init pwsh --config $env:POSH_THEMES_PATH\M365princess.omp.json | Invoke-Expression
```
3. 字体推荐：**CaskaydiaCove NFM**  
4. 查看主题：  
```powershell
Get-PoshThemes
```

---

### 🔹 macOS

#### 1. Homebrew
安装 [Homebrew](https://brew.sh/)，便于软件包管理。  

#### 2. Zsh 美化
推荐使用 **[Starship](https://starship.rs/)**：  

```bash
brew install starship
```
zsh 配置：
```bash
# ~/.zshrc
# Starship 初始化
if command -v starship >/dev/null 2>&1; then
  eval "$(starship init zsh)"
fi
```
执行 `source ~/.zshrc` 使配置生效

##### 配置 Starship
创建 `~/.config/starship.toml` 文件并添加以下内容：
```toml
# ~/.config/starship.toml
format = """
$username\
$git_branch\
$nodejs\
$character"""
# 在提示符之间插入空行
add_newline = false

# 使用内置的username模块而不是env_var
[username]
style_user = "#17A8CD"
format = "[$user](#17A8CD):"
show_always = true

[git_branch]
# 显示当前的 Git 分支
format = "[$branch](#D670D6) "

[nodejs]
# 显示 Node.js 版本
format = "[$version](#23D184) "

[character]
# 确定提示符字符的显示，根据上次命令的成功或失败显示不同的颜色
success_symbol = "[➜](bold green)"
error_symbol = "[➜](bold red)"
```

此配置会显示用户名、Git分支、Node.js版本，并根据命令执行结果显示不同颜色的提示符。

---

### 🔹 Linux (Ubuntu / Debian 示例)

#### 1. 更新系统
```bash
sudo apt update && sudo apt upgrade -y
```

#### 2. 安装常用工具
```bash
sudo apt install -y curl git vim build-essential
```

#### 3. 安装 Zsh + Starship
```bash
sudo apt install -y zsh
sh -c "$(curl -fsSL https://starship.rs/install.sh)"
echo 'eval "$(starship init zsh)"' >> ~/.zshrc
chsh -s $(which zsh)
```

#### 4. NVM + Node 环境
安装 nvm 并配置到 `~/.zshrc`，可与 macOS 相同。  

---

## 三、字体推荐
- [MiSans](https://web.vip.miui.com/page/info/mio/mio/detail?postId=33935854)  
- [Recursive](https://github.com/arrowtype/recursive)  
- CaskaydiaCove NFM （推荐给 PowerShell / VSCode 使用）

---

## ✅ 总结
本指南分为 **Windows / macOS / Linux 三套独立方案**：  

- 🪟 Windows → PowerShell + WSL + Oh My Posh  
- 🍎 macOS → Zsh + Starship + Node 自动切换  
- 🐧 Linux → Zsh + Starship + 系统工具  

按步骤逐一执行，即可快速完成新机器的开发环境初始化。
